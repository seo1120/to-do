<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë£¨ë¯¸ì˜ Todo ë¦¬ìŠ¤íŠ¸</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans min-h-screen">

    <!-- ì „ì²´ ì»¨í…Œì´ë„ˆ -->
    <div class="max-w-2xl mx-auto p-6">

        <!-- í—¤ë” -->
        <header class="text-center mt-8 mb-8">
            <h1 class="text-4xl font-bold text-pink-300 mb-3"> ğŸ€ ë£¨ë¯¸ì˜ Todo ë¦¬ìŠ¤íŠ¸ ğŸ©µ</h1>
            <p class="text-gray-600">Week 2 ê³¼ì œ - HTML, CSS, JavaScript ì¢…í•© ì‹¤ìŠµ</p>
        </header>

        <!-- Todo ì¶”ê°€ ì˜ì—­ -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">ğŸ©· í•  ì¼ ì¶”ê°€í•˜ê¸°</h2>

            <!-- ì…ë ¥ í¼ -->
            <div class="flex gap-2">
                <input type="text"
                       id="todoInput"
                       placeholder="ìƒˆë¡œìš´ í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”..."
                       class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none">

                <button onclick="addTodo()"
                        class="bg-pink-300 hover:bg-pink-500 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                    ì¶”ê°€
                </button>
            </div>
        </div>

        <!-- Todo ëª©ë¡ ì˜ì—­ -->
        <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">ğŸ©µ í•  ì¼ ëª©ë¡</h2>

            <!-- Todo í•­ëª©ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
            <div id="todoList" class="space-y-2">
                <!-- ì˜ˆì‹œ Todo í•­ëª© (JavaScriptë¡œ ë™ì  ìƒì„±í•  ì˜ˆì •) -->
                <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
                    <input type="checkbox" class="w-5 h-5 text-blue-600">
                    <span class="flex-1 text-gray-700">ì˜ˆì‹œ: JavaScript ê³µë¶€í•˜ê¸°</span>
                    <button class="text-red-500 hover:text-red-700 px-2 py-1 rounded">ì‚­ì œ</button>
                </div>
            </div>

            <!-- ëª©ë¡ì´ ë¹„ì–´ìˆì„ ë•Œ ë©”ì‹œì§€ -->
            <div id="emptyMessage" class="text-center text-gray-500 py-8 hidden">
                ì•„ì§ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ í•  ì¼ì„ ì¶”ê°€í•´ë³´ì„¸ìš”! ğŸ¯
            </div>
        </div>

        <!-- í†µê³„ ì •ë³´ (ì„ íƒ ê³¼ì œ) -->
        <div class="bg-white rounded-lg shadow-md p-6 mt-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-3">ğŸ’› ì§„í–‰ í˜„í™©</h3>
            <div class="grid grid-cols-3 gap-4 text-center">
                <div>
                    <div id="totalCount" class="text-2xl font-bold text-blue-400">0</div>
                    <div class="text-sm text-gray-500">ì „ì²´</div>
                </div>
                <div>
                    <div id="completedCount" class="text-2xl font-bold text-pink-400">0</div>
                    <div class="text-sm text-gray-500">ì™„ë£Œ</div>
                </div>
                <div>
                    <div id="remainingCount" class="text-2xl font-bold text-yellow-400">0</div>
                    <div class="text-sm text-gray-500">ë‚¨ì€ ì¼</div>
                </div>
            </div>
        </div>

        <!-- ê°œë°œ íŒ -->
        <div class="bg-pink-50 border border-pink-200 rounded-lg p-6 mt-6">
            <h3 class="text-lg font-semibold text-green-800 mb-3">ğŸ’¡ ê°œë°œ íŒ</h3>
            <div class="space-y-2 text-sm text-green-700">
                <p>â€¢ <strong>DOM ì¡°ì‘:</strong> document.getElementById(), querySelector() í™œìš©</p>
                <p>â€¢ <strong>ì´ë²¤íŠ¸:</strong> onclick, addEventListener ì‚¬ìš©</p>
                <p>â€¢ <strong>ì €ì¥ì†Œ:</strong> localStorage.setItem(), getItem() í™œìš©</p>
                <p>â€¢ <strong>ë°°ì—´:</strong> push(), splice(), filter() ë©”ì„œë“œ í™œìš©</p>
                <p>â€¢ <strong>ë””ë²„ê¹…:</strong> console.log()ë¡œ ê°’ í™•ì¸í•˜ê¸°</p>
            </div>
        </div>

    </div>

    <!-- JavaScript ì˜ì—­ -->
    <script>
        // ì „ì—­ ë³€ìˆ˜
        let todos = [];  // í• ì¼ ëª©ë¡ì„ ì €ì¥í•  ë°°ì—´

        // í˜ì´ì§€ ë¡œë“œì‹œ ì‹¤í–‰
        window.onload = function() {
            // ğŸ’¡ ì—¬ê¸°ì— LocalStorageì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì½”ë“œ ì‘ì„±
            const savedTodos = localStorage.getItem('todos');
            console.log('Todo ì•±ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!');
            console.log('ğŸ’¡ ê³¼ì œ: LocalStorageì—ì„œ ì €ì¥ëœ í• ì¼ë“¤ì„ ë¶ˆëŸ¬ì™€ í™”ë©´ì— í‘œì‹œí•˜ì„¸ìš”');

            // ì˜ˆì‹œ ë°ì´í„° (ì‹¤ì œë¡œëŠ” LocalStorageì—ì„œ ë¶ˆëŸ¬ì™€ì•¼ í•¨)
            loadTodos();
            renderTodos();
        };

        // í• ì¼ ì¶”ê°€ í•¨ìˆ˜
        function addTodo() {
            // ğŸ’¡ ê³¼ì œ: ì…ë ¥ê°’ì„ ê°€ì ¸ì™€ì„œ todos ë°°ì—´ì— ì¶”ê°€í•˜ê³ , í™”ë©´ì— í‘œì‹œí•˜ëŠ” ì½”ë“œ ì‘ì„±
            // 1. input ìš”ì†Œì—ì„œ ê°’ ê°€ì ¸ì˜¤ê¸°
            const todoInput = document.getElementById('todoInput').value.trim();
            // 2. ë¹ˆ ê°’ ì²´í¬í•˜ê¸°
            if (todoInput === '') {
                alert('í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”!');
                return;
            }
            // 3. todos ë°°ì—´ì— ìƒˆ í•­ëª© ì¶”ê°€
            todos.push({ text : todoInput, completed : false});
            // 4. LocalStorageì— ì €ì¥
            saveTodos();
            // 5. í™”ë©´ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
            renderTodos();
            // 6. input ê°’ ì´ˆê¸°í™”
        }

        // í• ì¼ ì‚­ì œ í•¨ìˆ˜
        function deleteTodo(index) {
            // ğŸ’¡ ê³¼ì œ: íŠ¹ì • ì¸ë±ìŠ¤ì˜ í• ì¼ì„ ì‚­ì œí•˜ëŠ” ì½”ë“œ ì‘ì„±
            // 1. todos ë°°ì—´ì—ì„œ í•´ë‹¹ ì¸ë±ìŠ¤ ì œê±°
            todos.splice(index,1);
            // 2. LocalStorageì— ì €ì¥
            saveTodos();
            // 3. í™”ë©´ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
            renderTodos();
        }

        // í• ì¼ ì™„ë£Œ í† ê¸€ í•¨ìˆ˜
        function toggleTodo(index) {
            // ğŸ’¡ ê³¼ì œ: íŠ¹ì • ì¸ë±ìŠ¤ì˜ í• ì¼ ì™„ë£Œ ìƒíƒœë¥¼ ë°”ê¾¸ëŠ” ì½”ë“œ ì‘ì„±
            console.log('ğŸ’¡ ê³¼ì œ: toggleTodo() í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”');

            // íŒíŠ¸:
            todos[index].completed = !todos[index].completed
            // 2. LocalStorageì— ì €ì¥
            saveTodos();
            // 3. í™”ë©´ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
            renderTodos();
        }

        // LocalStorageì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        function loadTodos() {
            // ğŸ’¡ ê³¼ì œ: LocalStorageì—ì„œ 'todos' í‚¤ë¡œ ì €ì¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
            console.log('ğŸ’¡ ê³¼ì œ: loadTodos() í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”');

            // íŒíŠ¸:
            const savedTodos = localStorage.getItem('todos');
            if (savedTodos) {
                todos = JSON.parse(savedTodos);
            }
        }

        // LocalStorageì— ë°ì´í„° ì €ì¥í•˜ê¸°
        function saveTodos() {
            // ğŸ’¡ ê³¼ì œ: todos ë°°ì—´ì„ LocalStorageì— ì €ì¥í•˜ê¸°
            console.log('ğŸ’¡ ê³¼ì œ: saveTodos() í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”');
            localStorage.setItem('todos', JSON.stringify(todos));
        }

        // í™”ë©´ì— í• ì¼ ëª©ë¡ í‘œì‹œí•˜ê¸°
        function renderTodos() {
            // ğŸ’¡ ê³¼ì œ: todos ë°°ì—´ì˜ ë‚´ìš©ì„ HTMLë¡œ ë§Œë“¤ì–´ì„œ í™”ë©´ì— í‘œì‹œ
            console.log('ğŸ’¡ ê³¼ì œ: renderTodos() í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”');

            const todoList = document.getElementById('todoList');

            // ğŸ’¡ íŒíŠ¸:
            // 1. todoList.innerHTML = ''; ë¡œ ê¸°ì¡´ ë‚´ìš© ì§€ìš°ê¸° (ë‹¤ì‹œ ê·¸ë¦´ê±°ë¼ ê¸°ì¡´ ë‚´ìš©ì€ ì‚­ì œ)
            todoList.innerHTML = '';
            // 2. todos ë°°ì—´ì„ ë°˜ë³µí•˜ë©´ì„œ HTML ìƒì„±
            todos.forEach((todo, index) => {
            // 3. ê° í•­ëª©ë§ˆë‹¤ ì²´í¬ë°•ìŠ¤, í…ìŠ¤íŠ¸, ì‚­ì œ ë²„íŠ¼ í¬í•¨
                const todoItem = document.createElement('div');
                todoItem.className = 'flex items-center gap-3 p-3 bg-gray-50 rounded-lg';

                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'w-5 h-5 text-pink-300';
                checkbox.checked = todo.completed;
                checkbox.onclick = () => toggleTodo(index);

                const span = document.createElement('span');
                span.className = 'flex-1 text-gray-700';
                if (todo.completed) {
                    span.classList.add('line-through', 'text-gray-400');
                }
                span.textContent = todo.text;

                const deleteButton = document.createElement('button');
                deleteButton.className = 'text-red-500 hover:text-red-700 px-2 py-1 rounded';
                deleteButton.textContent = 'ì‚­ì œ';
                deleteButton.onclick = () => deleteTodo(index);

                todoItem.appendChild(checkbox);
                todoItem.appendChild(span);
                todoItem.appendChild(deleteButton);
                todoList.appendChild(todoItem);
            });
            // 4. onclick ì´ë²¤íŠ¸ë¡œ toggleTodo, deleteTodo í•¨ìˆ˜ ì—°ê²°

            // í†µê³„ ì—…ë°ì´íŠ¸
            updateStats();
        }

        // í†µê³„ ì •ë³´ ì—…ë°ì´íŠ¸
        function updateStats() {
            // ğŸ’¡ ì„ íƒ ê³¼ì œ: ì „ì²´, ì™„ë£Œ, ë‚¨ì€ í• ì¼ ê°œìˆ˜ ê³„ì‚°í•´ì„œ í‘œì‹œ
            const total = todos.length;
            const completed = todos.filter(todo => todo.completed).length;
            const remaining = total - completed;

            document.getElementById('totalCount').textContent = total;
            document.getElementById('completedCount').textContent = completed;
            document.getElementById('remainingCount').textContent = remaining;
        }

        // Enter í‚¤ë¡œ í• ì¼ ì¶”ê°€
        document.addEventListener('DOMContentLoaded', function() {
            const todoInput = document.getElementById('todoInput');
            todoInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addTodo();
                }
            });
        });

        // ê°œë°œì ë„êµ¬ ì•ˆë‚´
        console.log('ğŸ‰ Todo ì•± ê°œë°œì„ ì‹œì‘í•©ë‹ˆë‹¤!');
        console.log('ğŸ’¡ ê°œë°œì ë„êµ¬(F12)ë¥¼ ì—´ì–´ì„œ console.log() ë©”ì‹œì§€ë“¤ì„ í™•ì¸í•˜ì„¸ìš”');
        console.log('ğŸ“š í•„ìš”í•œ í•¨ìˆ˜ë“¤: addTodo, deleteTodo, toggleTodo, loadTodos, saveTodos, renderTodos');
        console.log('ğŸš€ í•˜ë‚˜ì”© ì™„ì„±í•´ë‚˜ê°€ë©´ì„œ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ì„¸ìš”!');

    </script>

</body>
</html>